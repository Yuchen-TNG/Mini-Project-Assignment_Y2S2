@model Mini_Project_Assignment_Y2S2.Models.LocationItemsViewModel
@{
    ViewData["Title"] = "Home Page";
    string currentCategory = Context.Session.GetString("CurrentCategory") ?? "LOSTITEM";

}

@if (TempData["Error"] != null)
{
    <p id="tempdata" class="tempdata">@TempData["Error"]</p>
}
<head>
    <link rel="stylesheet" href="~/css/index.css" asp-append-version="true" />

</head>

<body>
    <div class="parent">
        <div class="left-container">
            <div class="filter-container">
                <h1>Filter</h1>
                <p>Tips:you may click the white color to do next action </p>
            </div>
            
            <div class="line"></div>
            
            <div class="location">
                <span>Location:  </span>
                <select class="locationInput" id="location">
                    <option value="" selected disabled hidden>   -- Select Location --</option>
                    @foreach (var loc in Model.Locations)
                    {
                        <option value="@loc.LocationID">
                            @loc.LocationName
                        </option>
}


                </select>
            </div>

            <div class="line"></div>
            <div class="dateContainer">
                <label for="startDate">Start Date:</label>
                <input type="date" id="startDate" min="@ViewData["MinDate"]" max="@ViewData["MaxDate"]">
                <p>↓</p>
                <label for="endDate" >End Date:  </label>
                <input type="date" id="endDate" min="@ViewData["MinDate"]" max="@ViewData["MaxDate"]">
            </div>
            <div class="line"></div>

            <div class="left-button">

                <div class="filter-button">
                    <button id="filter">Filter</button>
                </div>

                <div class="reset-button">
                    <button id="resetFilter">RESET</button>
                </div>

            </div>
        </div>


        <div class="middle-line"></div>

        <div class="right-container">
            <div class="right-container-top">

                <div class="typeOfItem">
                    @if (currentCategory == "LOSTITEM")
                    {
                        <button id="foundButton" value="LOSTITEM" class="active">Lost</button>
                        <button class="buttonA">/</button>
                        <button id="postButton" value="FOUNDITEM">Found</button>
                    }
                    else
                    {
                        <button id="foundButton" value="FOUNDITEM">Found</button>
                        <button class="buttonA">/</button>
                        <button id="postButton" value="LOSTITEM" class="active">Lost</button>
                    }
                </div>
                <hr />
            </div>

            <div class="right-container-bottom">
                <div class="cardparent">
                    @await Html.PartialAsync("_ItemCard",(List<ItemCardViewModel>)ViewData["ItemCards"])
                </div>



            </div>
                <div class="paging">
                    <button id="pagingBack" class="back">< Back</button>
                    <button id="currentPage" class="pagingNumber">1</button>
                    <button id="pagingNext" class="next">Next ></button>
                </div>
            
        </div>





    </div>
    <script src="~/js/index.js" asp-append-version="true"> </script>
</body>
