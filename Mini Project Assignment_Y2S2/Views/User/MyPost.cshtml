@model List<Google.Cloud.Firestore.DocumentSnapshot>

@{
    ViewData["Title"] = "My Posts";

    string currentCategory = ViewBag.Category as string;
    string currentStatus = ViewBag.Status as string;
}

<link rel="stylesheet" href="~/css/index.css" asp-append-version="true" />
<link rel="stylesheet" href="~/css/mypost.css" asp-append-version="true" />

<div class="parent">

    <!-- 🔹 LEFT FILTER PANEL -->
    <div class="left-container">

        <div class="filter-container">
            <h1>My Posts</h1>
            <p>Filter your posted items</p>
        </div>

        <div class="line"></div>

        <div class="filter-list">

            <a href="@Url.Action("MyPost")"
               class="filter-item @(string.IsNullOrEmpty(currentCategory) && string.IsNullOrEmpty(currentStatus) ? "active" : "")">
                📋 All
            </a>

            <a href="@Url.Action("MyPost", new { category = "LOSTITEM" })"
               class="filter-item @(currentCategory == "LOSTITEM" ? "active" : "")">
                🔍 Lost
            </a>

            <a href="@Url.Action("MyPost", new { category = "FOUNDITEM" })"
               class="filter-item @(currentCategory == "FOUNDITEM" ? "active" : "")">
                📦 Found
            </a>

            <a href="@Url.Action("MyPost", new { status = "CLAIMED" })"
               class="filter-item @(currentStatus == "CLAIMED" ? "active" : "")">
                🏁 Claimed
            </a>

        </div>

    </div>

    <!-- MIDDLE LINE -->
    <div class="middle-line"></div>

    <!-- 🔹 RIGHT CONTENT -->
    <div class="right-container">

        <div class="right-container-top">
            <h2>
                @(currentStatus == "CLAIMED"
                                ? "Claimed Items"
                                : string.IsNullOrEmpty(currentCategory)
                                ? "All Items"
                                : currentCategory == "LOSTITEM" ? "Lost Items" : "Found Items")
            </h2>
            <hr />
        </div>

        <div class="right-container-bottom">

            <div class="cardparent">

                @await Html.PartialAsync("_ItemCard", (List<ItemCardViewModel>)ViewData["ItemCards"])
            </div>

        </div>

    </div>

</div>
<script src="~/js/index.js" asp-append-version="true"> </script>